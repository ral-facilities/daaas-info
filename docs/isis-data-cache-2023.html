<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ISIS Instrument Data Cache 2023 &mdash; daaas 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/site.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=f2a433a1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ISIS DAaaS Tech Update - January 2024" href="2024-01-TechUpdate.html" />
    <link rel="prev" title="ISIS DAaaS Tech Update - June 2023" href="2023-06-TechUpdate.html" />
    <link href="('static/site.css', True)" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            daaas
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="clf.html">CLF</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="isis.html">ISIS</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="2023-06-TechUpdate.html">ISIS DAaaS Tech Update - June 2023</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">ISIS Instrument Data Cache 2023</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#brief">Brief</a></li>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#why">Why?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-frequently-is-the-data-updated">How frequently is the data updated?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#what-data-are-captured">What data are captured?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-access-the-data-cache">How to access the Data Cache?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#where-to-find-the-data">Where to find the data?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#monitoring-and-alerting">Monitoring and Alerting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support">Support</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="2023-06-TechUpdate.html#platform">Platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="2023-06-TechUpdate.html#workspaces">Workspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="2023-06-TechUpdate.html#data">Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2024-01-TechUpdate.html">ISIS DAaaS Tech Update - January 2024</a></li>
<li class="toctree-l2"><a class="reference internal" href="2024-07-TechUpdate.html">ISIS DAaaS Tech Update - July 2024</a></li>
<li class="toctree-l2"><a class="reference internal" href="isis-specifications.html">ISIS Specifications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scientific-computing.html">Scientific Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="software.html">Scientific Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="training.html">Training</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">daaas</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="isis.html">ISIS</a></li>
          <li class="breadcrumb-item"><a href="2023-06-TechUpdate.html">ISIS DAaaS Tech Update - June 2023</a></li>
      <li class="breadcrumb-item active">ISIS Instrument Data Cache 2023</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/isis-data-cache-2023.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="isis-instrument-data-cache-2023">
<h1>ISIS Instrument Data Cache 2023<a class="headerlink" href="#isis-instrument-data-cache-2023" title="Link to this heading"></a></h1>
<p>updated: 2023-06</p>
<section id="brief">
<h2>Brief<a class="headerlink" href="#brief" title="Link to this heading"></a></h2>
<p>We are still working towards disconnecting the Archive from the Workspaces and replacing it with the Instrument Data Cache.
This is so we can make the service adhere to the <a class="reference external" href="https://www.isis.stfc.ac.uk/Pages/Data-Policy.aspx">ISIS Data Policy</a>.
This is just a change to the Workspaces and will not impact the Archive in any other way.
It will still be accessible from Workspaces, though it will require you to input your Federal Credentials.</p>
<p>The Instrument Data Cache can be accessed from all workspaces from the applications menu under the Data section.
Each experiment has its own directory named after the RB Number and contains the RAW and NeXus files generated by the instrument.
Data assigned an RB Number that is not in the Scheduler will be put in a directory called “unknown” under the respective instrument.</p>
<p>We currently store ~3 years of instrument data, approximately 800TB.</p>
<p>If you need to access older data, you can download it from <a class="reference external" href="https://data.isis.stfc.ac.uk/">DataGateway</a>.</p>
</section>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>The ISIS Instrument Data Cache is an alternative to the ISIS Archive on
IDAaaS. The ISIS Data Cache is a store of instrument data located on
SCD’s Ceph storage cluster that contains data copied directly from
instrument PCs as it is produced.</p>
<p>We have also copied the last 3 years of data from the Archive onto the
Data Cache so that you will have access to past data.</p>
</section>
<section id="why">
<h2>Why?<a class="headerlink" href="#why" title="Link to this heading"></a></h2>
<p>Data in the cache is access-restricted so that only members of the
relevant experiment group and instrument scientists will have access to
the data, whilst nobody else will be able to access the data.</p>
<p>Data Cache access is read-only. This brings us into conformity with the
ISIS data policy, which specifies an embargo period of 3 years on
experiment data.</p>
</section>
<section id="how-frequently-is-the-data-updated">
<h2>How frequently is the data updated?<a class="headerlink" href="#how-frequently-is-the-data-updated" title="Link to this heading"></a></h2>
<p>We are running a service called the Cache Updater which will check
periodically (ideally at least every 10 seconds) to see if there are any
new files to be copied from instrument PCs.</p>
<p>New data from instrument PCs should appear in the Data Cache in under 5
minutes depending on the file size.</p>
</section>
<section id="what-data-are-captured">
<h2>What data are captured?<a class="headerlink" href="#what-data-are-captured" title="Link to this heading"></a></h2>
<p>All run files should be captured, for RB pre-fixed experiments (listed
below) will be in RB folders, others will be in a folder called Unknown.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>RB Folder</p></th>
<th class="head"><p>Key</p></th>
<th class="head"><p>Access
Mechanism</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>YY0nnnn</p></td>
<td><p>YY = year</p></td>
<td><p>Rapid Access</p></td>
<td><p>RB1600001,
RB1600004</p></td>
</tr>
<tr class="row-odd"><td><p>YY30nnn</p></td>
<td><p>YY = year</p></td>
<td><p>Commissioning</p></td>
<td><p>RB1530001,
RB1530105</p></td>
</tr>
<tr class="row-even"><td><p>YY35nnn</p></td>
<td><p>YY = year</p></td>
<td><p>Calibration</p></td>
<td><p>RB1535001,
RB1635149</p></td>
</tr>
<tr class="row-odd"><td><p>YY5nnnn</p></td>
<td><p>YY = year</p></td>
<td><p>Industrial
Access</p></td>
<td><p>RB1758473,
RB1750023</p></td>
</tr>
<tr class="row-even"><td><p>YY6nnnn</p></td>
<td><p>YY = year</p></td>
<td><p>International
Partners</p></td>
<td><p>RB1764094,
RB1662342</p></td>
</tr>
<tr class="row-odd"><td><p>YY9nnnn</p></td>
<td><p>YY = year</p></td>
<td><p>Xpress Access</p></td>
<td><p>RB1794048,
RB1694837</p></td>
</tr>
<tr class="row-even"><td><p>YYRnnnn</p></td>
<td><p>YY = year, R =
round (1 or 2)</p></td>
<td><p>Direct Access</p></td>
<td><p>RB1710034,
RB1524325</p></td>
</tr>
</tbody>
</table>
</section>
<section id="how-to-access-the-data-cache">
<h2>How to access the Data Cache?<a class="headerlink" href="#how-to-access-the-data-cache" title="Link to this heading"></a></h2>
<p>Please access the shortcut under Data on the Applications menu called
“Instrument Data Cache” at your workspaces.</p>
<p>This will take you to the data cache via the file browser GUI. For
command line access, there is a symlink at /data/cache which points to
the cache directory.</p>
</section>
<section id="where-to-find-the-data">
<h2>Where to find the data?<a class="headerlink" href="#where-to-find-the-data" title="Link to this heading"></a></h2>
<p>The data cache has the following directory structure:
<strong>INSTRUMENT/YEAR/RB NUMBER</strong></p>
<p>For example, to find instrument data from the 2022 WISH experiment
RB2200001-1, you would go to the directory <strong>WISH/2022/RB2200001-1</strong> in
the data cache.</p>
<p>All members of the RB2200001 experiment and all WISH instrument
scientists should have access to the data in this directory.</p>
<p>There will also be an “unknown” folder under each year,
e.g. <strong>WISH/2022/unknown</strong>. All run files that could not be matched to
an RB number in the Experiment Scheduler will be placed in a directory
in the unknown folder.</p>
<p>For example, if WISH instrument data that cannot be matched to an RB is
copied on the 22nd March 2022, it will be copied to the folder
<strong>WISH/2022/unknown/2022-03-22</strong>.</p>
<p>We get the RB number from the .nxs (<strong>nexus</strong>) file for the run, so
please make sure that <strong>correct RB number</strong> are input for their
experiment so that it can be matched to an experiment record on the
Scheduler and thus be placed in the correct folder.</p>
</section>
<section id="monitoring-and-alerting">
<h2>Monitoring and Alerting<a class="headerlink" href="#monitoring-and-alerting" title="Link to this heading"></a></h2>
<p>We have monitoring and alerting system set up so that we should be
alerted if the Cache Updater service goes down. Alerts will be sent and
responded to both during the day and out-ofhours for this service so
that disruption to instrument data access is minimized.</p>
</section>
<section id="support">
<h2>Support<a class="headerlink" href="#support" title="Link to this heading"></a></h2>
<p>Get in touch if you have any queries: <a class="reference external" href="mailto:supportanalysis&#37;&#52;&#48;stfc&#46;ac&#46;uk">supportanalysis<span>&#64;</span>stfc<span>&#46;</span>ac<span>&#46;</span>uk</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="2023-06-TechUpdate.html" class="btn btn-neutral float-left" title="ISIS DAaaS Tech Update - June 2023" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="2024-01-TechUpdate.html" class="btn btn-neutral float-right" title="ISIS DAaaS Tech Update - January 2024" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, fan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>